---
// Swiper.astro
---

<section class="product-carousel-section">
  <div class="white-container">
    <div class="carousel-container">
      <h2 class="carousel-title">Varias personas despues miran</h2>

      <div class="products-carousel-controls">
        <button id="pdp-carousel-arrow-left" type="button" class="products-carousel-headline-control left secondary-buttons-left">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"/>
          </svg>
        </button>
        <button id="pdp-carousel-arrow-right" type="button" class="products-carousel-headline-control right secondary-buttons-right">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
          </svg>
        </button>
      </div>

      <div id="product-carousel-scrollable-content" class="products-carousel-items-container">
        <!-- Producto 1 -->
        <div class="products-carousel-item-wrapper" style="min-width: 202px;">
          <div class="product-card">
            <div class="product-brand-label">DELI</div>
            <div class="product-img-box">
              <img src="/images/pastillas.jpg" alt="Portátil Dell Inspiron" loading="lazy" width="150" height="120" />
            </div>
            <div class="product-model">Portátil Dell Inspiron 3520...</div>
            <div class="price-section">
              <span class="current-price-value">$2,439,900</span>
              <span class="original-price-value">$5,529,000</span>
            </div>
          
          </div>
        </div>

        <!-- Producto 2 -->
        <div class="products-carousel-item-wrapper" style="min-width: 202px;">
          <div class="product-card">
            <div class="product-brand-label">DELI</div>
            <div class="product-img-box">
              <img src="/images/llanta.png" alt="Portátil Dell Inspiron 15" loading="lazy" width="150" height="120" />
            </div>
            <div class="product-model">Portátil Dell Inspiron 15...</div>
            <div class="price-section">
              <span class="current-price-value">$2,349,900</span>
              <span class="original-price-value">$5,439,800</span>
            </div>
          
          </div>
        </div>

        <!-- Producto 3 -->
        <div class="products-carousel-item-wrapper" style="min-width: 202px;">
          <div class="product-card">
            <div class="product-brand-label">LENOVO</div>
            <div class="product-img-box">
              <img src="/images/lampi.jpg" alt="Portátil Lenovo" loading="lazy" width="150" height="120" />
            </div>
            <div class="product-model">Portátil Lenovo Pantalla Táctil...</div>
            <div class="price-section">
              <span class="current-price-value">$2,299,900</span>
              <span class="original-price-value">$7,899,900</span>
            </div>
         
          </div>
        </div>

        <!-- Producto 4 -->
        <div class="products-carousel-item-wrapper" style="min-width: 202px;">
          <div class="product-card">
            <div class="product-brand-label">DELI</div>
            <div class="product-img-box">
              <img src="/images/luz.jpg" alt="Portátil Dell Intel Core i7" loading="lazy" width="150" height="120" />
            </div>
            <div class="product-model">Portátil Dell Intel Core i7...</div>
            <div class="price-section">
              <span class="current-price-value">$2,599,900</span>
              <span class="original-price-value">$7,899,800</span>
            </div>
          
          </div>
        </div>

        <!-- Producto 5 -->
        <div class="products-carousel-item-wrapper" style="min-width: 202px;">
          <div class="product-card">
            <div class="product-brand-label">ASUS</div>
            <div class="product-img-box">
              <img src="/images/v8.jpg" alt="Portátil Asus Intel Core" loading="lazy" width="150" height="120" />
            </div>
            <div class="product-model">Portátil Asus Intel Core...</div>
            <div class="price-section">
              <span class="current-price-value">$2,299,900</span>
              <span class="original-price-value">$7,899,900</span>
            </div>
           
          </div>
        </div>

        <!-- Producto 6 -->
        <div class="products-carousel-item-wrapper" style="min-width: 202px;">
          <div class="product-card">
            <div class="product-brand-label">DELI</div>
            <div class="product-img-box">
              <img src="/images/motor.jpg" alt="Portátil Dell Intel Core i7" loading="lazy" width="150" height="120" />
            </div>
            <div class="product-model">Portátil Dell Intel Core i7...</div>
            <div class="price-section">
              <span class="current-price-value">$2,799,900</span>
              <span class="original-price-value">$6,089,800</span>
            </div>
           
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('product-carousel-scrollable-content');
    const leftButton = document.getElementById('pdp-carousel-arrow-left');
    const rightButton = document.getElementById('pdp-carousel-arrow-right');
    const itemWidth = 202; // Ancho de cada item
    const scrollAmount = 3; // Cantidad de items a desplazar

    leftButton.addEventListener('click', () => {
      container.scrollBy({
        left: -itemWidth * scrollAmount,
        behavior: 'smooth'
      });
    });

    rightButton.addEventListener('click', () => {
      container.scrollBy({
        left: itemWidth * scrollAmount,
        behavior: 'smooth'
      });
    });
  });
</script>

<style scoped>
  .product-carousel-section {
    width: 100%;
    margin: 2rem 0;
  }

  .white-container {
    background-color:#F2F2F2;
    border-radius: 12px;
    padding: 20px 34px;
    width: 100%;
    max-width: 1280px;
    margin: 0 auto;
      box-shadow: 0px 6px 18px rgba(0, 0, 0, 0.15);

  }

  .carousel-container {
    position: relative;
    width: 100%;
    font-weight: 600;
  }

  .carousel-title {
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    color: #333;
  }

  .products-carousel-controls {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    transform: translateY(-50%);
    z-index: 10;
    pointer-events: none;
  }

  .products-carousel-headline-control {
    background: #fff;
    border: none;
    border-radius: 50%;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    padding: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: all;
  }

  .products-carousel-headline-control.left {
    position: absolute;
    left: -20px;
  }

  .products-carousel-headline-control.right {
    position: absolute;
    right: -20px;
  }

  .products-carousel-headline-control:hover {
    background-color: #f0f0f0;
    transform: scale(1.1);
  }

  .products-carousel-items-container {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    gap: 20px;
    padding: 20px 10px;
    scrollbar-width: none; /* Para Firefox */
    -ms-overflow-style: none; /* Para IE y Edge */
  }

  .products-carousel-items-container::-webkit-scrollbar {
    display: none; /* Para Chrome, Safari y Opera */
  }

  .products-carousel-item-wrapper {
    scroll-snap-align: start;
    flex-shrink: 0;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    padding: 16px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;

  }

  .products-carousel-item-wrapper:hover {
    transform: scale(1.03);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  }

  .product-card {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .product-brand-label {
    font-weight: bold;
    font-size: 16px;
    color: #333;
    margin-bottom: 8px;
  }

  .product-img-box {
    width: 100%;
    height: 120px;
    background: #f8f8f8;
    border-radius: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 8px 0;
    overflow: hidden;
  }

  .product-img-box img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    transition: transform 0.3s ease;
  }

  

  .product-model {
    font-size: 14px;
    color: #555;
    margin: 8px 0;
    min-height: 40px;
    line-height: 1.3;
  }

  .price-section {
    margin: 8px 0;
  }

  .current-price-value {
    font-size: 18px;
    font-weight: bold;
    color: #000;
    display: block;
  }

  .original-price-value {
    font-size: 14px;
    color: #999;
    text-decoration: line-through;
  }

  .rating-stars {
    margin-top: auto;
    color: #FFC107;
    font-size: 14px;
  }

  .review-count {
    color: #999;
    margin-left: 5px;
    font-size: 14px;
  }

  @media (max-width: 768px) {
    .products-carousel-item-wrapper {
      min-width: 180px !important;
    }
    
    .product-img-box {
      height: 100px;
    }
  }

  @media (max-width: 480px) {
    .products-carousel-item-wrapper {
      min-width: 160px !important;
    }
    
    .product-img-box {
      height: 80px;
    }
    
    .product-model {
      font-size: 12px;
    }
    
    .current-price-value {
      font-size: 16px;
    }
  }
</style>